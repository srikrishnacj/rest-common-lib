kind: pipeline
name: frontend

steps:
- name: build fat jar
  image: srikrishnacj/build
  commands:
    - mvn clean package -Dskip.ut.test=true -Dskip.it.test=true -Dskip.at.test=true

- name: code quality check
  image: srikrishnacj/build
  commands:
    - echo "[TODO] run static analysis tools for code quality check"

- name: run unit tests
  image: srikrishnacj/build
  commands:
    - mvn test -Dskip.ut.test=false -Dskip.it.test=true -Dskip.at.test=true

- name: run integration tests
  image: srikrishnacj/build
  commands:
    - mvn test -Dskip.ut.test=true -Dskip.it.test=false -Dskip.at.test=true

- name: publish to repository
  image: srikrishnacj/build
  commands:
    - echo "[TODO] publish to repository"